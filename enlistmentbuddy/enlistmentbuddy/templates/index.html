{% extends 'base.html' %}
{% load static %}

{% block title %} Enlistment Buddy {% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
<link rel="stylesheet" href="{% static 'css/modal.css' %}">
{% endblock %}

{% block content %}
<main>
    <!--shows information per class in table form
    <table>
        <td>{{ trycourse }}</td>
        {% for course in courses %}
            <td>{{ course }}</td>
        {% endfor %}
    </table> -->
    <section id="content">
        <section class="textareas">
            <button onclick="openModal()">
                <img src="../static/img/button-edit.svg">
            </button>
            <!-- carmen send help this is the basic stuff i thinkkk? -->
            <form action="/index_card" method="post">
                {% csrf_token %}
                {{ copypasteform }}
                <input class="btn" type="submit" name="copypastesubmit" value="Submit">
            </form> -->
            <textarea placeholder="Paste from AISIS Class Schedule here..."></textarea>
        </section>
        <section id="timetable">
            <div class="row timerow">
                <div class="time"> </div>
                <div class="dayh">M</div>
                <div class="dayh">T</div> 
                <div class="dayh">W</div> 
                <div class="dayh">Th</div>
                <div class="dayh">F</div>
                <div class="dayh">S</div>
            </div>
            <!-- creates all times -->
            {% for x in time %}
            <div class="row"> 
                <!-- creates first column of times-->
                <div class="time">{{ x|time:"H:i" }}</div>
                <!-- if there are classes in monday, make it, otherwise blank column-->
                <!-- copy from here, rename monday-->
                <section class="daytable">
                    <div class="day">
                        {% for class in monday %}         
                            {% if class.start  <= x and class.end > x %}  
                            <div class="infowrap">
                                <div class="classinfo">{{ class.code }}</div>
                                <div class="classinfo">{{ class.section }}</div>
                                <div class="classinfo">{{ class.venue }}</div>
                                <div class="classinfo">{{ class.professor }}</div>
                            </div>
                                <!--<div>{{ class.start }}-{{ class.end }}</div>-->
                            {% endif %}
                        {% endfor %}
                    </div>
                    <!-- copy till here -->
                    <div class="day">
                        {% for class in tuesday %}         
                            {% if class.start  <= x and class.end > x %}  
                            <div class="infowrap">
                                <div class="classinfo">{{ class.code }}</div>
                                <div class="classinfo">{{ class.section }}</div>
                                <div class="classinfo">{{ class.venue }}</div>
                                <div class="classinfo">{{ class.professor }}</div>
                            </div>
                                <!--<div>{{ class.start }}-{{ class.end }}</div>-->
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="day">
                        {% for class in wednesday %}         
                            {% if class.start  <= x and class.end > x %}  
                            <div class="infowrap">
                                <div class="classinfo">{{ class.code }}</div>
                                <div class="classinfo">{{ class.section }}</div>
                                <div class="classinfo">{{ class.venue }}</div>
                                <div class="classinfo">{{ class.professor }}</div>
                            </div>
                                <!--<div>{{ class.start }}-{{ class.end }}</div>-->
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="day">
                        {% for class in thursday %}         
                            {% if class.start  <= x and class.end > x %}  
                            <div class="infowrap">
                                <div class="classinfo">{{ class.code }}</div>
                                <div class="classinfo">{{ class.section }}</div>
                                <div class="classinfo">{{ class.venue }}</div>
                                <div class="classinfo">{{ class.professor }}</div>
                            </div>
                                <!--<div>{{ class.start }}-{{ class.end }}</div>-->  
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="day">
                        {% for class in friday %}         
                            {% if class.start  <= x and class.end > x %}  
                            <div class="infowrap">
                                <div class="classinfo">{{ class.code }}</div>
                                <div class="classinfo">{{ class.section }}</div>
                                <div class="classinfo">{{ class.venue }}</div>
                                <div class="classinfo">{{ class.professor }}</div>
                            </div>
                                <!--<div>{{ class.start }}-{{ class.end }}</div>--> 
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="day">
                        {% for class in saturday %}         
                            {% if class.start  <= x and class.end > x %}  
                            <div class="infowrap">
                                <div class="classinfo">{{ class.code }}</div>
                                <div class="classinfo">{{ class.section }}</div>
                                <div class="classinfo">{{ class.venue }}</div>
                                <div class="classinfo">{{ class.professor }}</div>
                            </div>
                                <!--<div>{{ class.start }}-{{ class.end }}</div>--> 
                            {% endif %}
                        {% endfor %}
                    </div>
                </section>
            </div>
            {% endfor %}
        </section>
    </section>
</main>
<div id="myModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <div class="forminput-wrap">
            <form action="/index_card" method="post">
                {% csrf_token %}
                <!-- {{ form }}
                <input type="submit" value="Submit"> -->
                <div class="coursecode-div">
                    <h1>Course Code</h1>
                    {{ indexcardform.code }}
                </div>
                <div class="form-section">
                    <div class="form-group sectiongroup">
                        <h2>Section</h2>
                        {{ indexcardform.section }}
                    </div>
                    <div class="section-inner">
                        <div class="form-group">
                            <h4>Schedule</h4>
                            {{ indexcardform.sched }}
                        </div>
                        <div class="startend">
                            <div class="form-group">
                                <h4>Start <span>(military time)</span></h4>
                                {{ indexcardform.start }}
                            </div>
                            <div class="form-group">
                                <h4>End <span>(military time)</span></h4>
                                {{ indexcardform.end }}
                            </div>
                        </div>
                        <div class="form-group">
                            <h4>Venue</h4>
                            {{ indexcardform.venue }}
                        </div>
                        <div class="form-group">
                            <h4>Professor</h4>
                            {{ indexcardform.professor }}
                        </div>
                    </div>
                </div>
                <div class="form-submit">
                    <input class="btn" type="submit" name="indexsubmit" value="+">
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="../static/js/modal.js"></script>
{% endblock %}